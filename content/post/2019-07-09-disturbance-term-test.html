---
title: "Disturbance Term - Test"
author: "Davi Simon"
date: '2019-07-09'
keywords: tech
slug: disturbance-term-test
tags: 
- lindia
categories: 
- Finance 
- R
---



<p>Differences of disturbance terms at the population level and residuals from multivariate OLS.</p>
<p>Inspired by:
<a href="https://github.com/Matzge/Simulation-Error-Term-and-Residuals" class="uri">https://github.com/Matzge/Simulation-Error-Term-and-Residuals</a></p>
<div id="true-model" class="section level2">
<h2>TRUE MODEL</h2>
<pre class="r2"><code>
set.seed(1)

X1 &lt;- rnorm(1000, mean = 500, sd=10)

X2 &lt;- rnorm(1000, mean = 250, sd=10)

X3 &lt;- rnorm(1000, mean = 10, sd = 50)

u &lt;- rnorm(1000, mean=0, sd=10)

Data &lt;- cbind(X1,X2,X3,u)
Data &lt;- as.data.frame(Data)
</code></pre>
<p>Creating the true model based on a deterministic function</p>
<pre class="r3"><code>Data %&lt;&gt;% mutate(Y = (500 + 2.7*X1 + 0.44*X2 -0.12*X3 + u))</code></pre>
<p>Summing and computing trhe mean of the disturbance</p>
<pre class="r4"><code>
sum(Data$u)
mean(Data$u)</code></pre>
<p>Modelling</p>
<pre class="r5"><code>Data %&gt;% lm(Y ~ X1 + X2 + X3, data=.) %&gt;% summary()</code></pre>
<p>Checking the residuals</p>
<pre class="r6"><code>m1 &lt;- lm(Y ~ X1 + X2 + X3, data=Data)
sum(m1$residuals)
mean(m1$residuals)</code></pre>
<p>Diagnosing residuals</p>
<pre class="r7"><code>gg_diagnose(m1)</code></pre>
<p>Ploting residuals x disturbances</p>
<pre class="r8"><code>Data &lt;- cbind(Data, m1$residuals)
ggplot(Data) + geom_point(aes(x=u, y=`m1$residuals`))
</code></pre>
<p>thatâ€™s it for today!</p>
</div>
